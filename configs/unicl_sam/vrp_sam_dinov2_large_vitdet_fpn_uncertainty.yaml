model:
  dinov2_config:
    type: "/home/qchugroup/sdmcvpr2025/code/UNICL-SAM/ckpts/dinov2/large"
  fpn_config:
    out_channels: 1024
    multi_scale_fusion: 'bfp'
    norm_type: 'LN'
  uncertainty_config:
    type: 'rgcn'
    graph_type: 'part'
    dim_features: 1024
    dim_hidden: 256
    dropout_prob: 0.5
    gamma: 1
    beta_kl: 0.0005
    beta_reg: 0.0005
    with_graph_pe: false
    with_g_attn: false
    cut: 0
    alpha: 3
    num_classes: 10
    num_sample: 1
    with_aug: true
    with_cluster_loss: true
    with_uncertainty_sampling: true
    with_uncertainty_reweighting: true
    uncertainty_reweighting_type: 'rand' # 'topk'
    uncertainty_topk_ratio: 0.75
    flow_config:
      flow_type: 'RealNVP'
      num_layers: 10
  qformer_config:
    type: 'qformer_diff' # diff
    add_cross_attn: true
    num_hidden_layers: 2
    hidden_size: 256
    layer_norm_eps: 1e-12
    hidden_dropout_prob: 0.1
    num_attention_heads: 16
    encoder_hidden_size: 1024
    attention_probs_dropout_prob: 0.1
    max_position_embeddings: 512
    chunk_size_feed_forward: 0
    num_query_tokens: 50
    with_bg_query: false
    num_bg_query_tokens: 50
    intermediate_size: 3072
    hidden_act: "gelu"
  sam_config:
    type: 'vit_h'
    ckpt: "/home/qchugroup/sdmcvpr2025/code/UNICL-SAM/ckpts/sam/sam_vit_h_4b8939.pth"
    train_mask_decoder: false
  with_simple_fpn: true
  feat_interpolate: false
  with_mask: true
  with_mask_pooling: true
  no_augment: false
  with_mlp_reweight: false
loss:
  dice: 10
  ce: 20
  kl: 10
  un_ce: 1
  un_clu: 
    weight: 0.05
    delta_dist: 5
    norm: 2
    beta: 1.0
    gamma: 0.001
  ctr: 0.1
  # tversky: 5
  # focal: 10
  # iou: 10